import{e as G,r as o,j as n,B as a,T as O}from"./index-D6YX_SBn.js";function V(){const s=G(),l=o.useRef(null),F=o.useRef(null),y=o.useRef(null),[_,j]=o.useState([{id:"1",content:"Booting DO-IT/NET v1.0 … OK",type:"output"},{id:"2",content:"Type help to get started. Press ↑/↓ for history.",type:"output"},{id:"3",content:" ",type:"output"}]),[c,z]=o.useState([]),[x,g]=o.useState(-1),[u,S]=o.useState(!1),[k,I]=o.useState(!0),[C,B]=o.useState("green"),[T,$]=o.useState(null),[f,H]=o.useState([]),d=o.useCallback((e,t,r)=>{const i={id:Date.now().toString(),content:e,type:t,command:r};j(p=>[...p,i])},[]),E=o.useCallback(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[]);o.useEffect(()=>{E()},[_,E]),o.useEffect(()=>{if(!y.current||!u)return;const e=y.current,t=e.getContext("2d");if(!t)return;const r=()=>{if(l.current){const h=l.current.getBoundingClientRect();e.width=Math.floor(h.width),e.height=Math.floor(h.height)}};r();const b="アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワン"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",m=16,U=Math.ceil(e.width/m);f.length===0&&H(Array.from({length:U},()=>Math.floor(Math.random()*e.height/m)));const A=()=>{t.fillStyle="rgba(0,0,0,0.08)",t.fillRect(0,0,e.width,e.height),t.fillStyle=s.palette.terminal.green,t.font=`${m}px VT323, monospace`,f.forEach((h,v)=>{const W=b[Math.floor(Math.random()*b.length)],K=v*m;t.fillText(W,K,h*m),h*m>e.height&&Math.random()>.975?f[v]=0:f[v]=h+1}),$(requestAnimationFrame(A))};A();const L=()=>{u&&r()};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),T&&cancelAnimationFrame(T)}},[u,f,s.palette.terminal.green,T]);const R={help:{name:"help",description:"Show available commands",execute:async()=>["Available commands:","  help, about, banner, contact, ls, projects, echo <text>, clear, date, time, color <green|amber|white>, scanlines <on|off>, matrix <on|off>"]},about:{name:"about",description:"Show company information",execute:async()=>["Desert Oasis Information Technologies (DO-IT)","Security‑minded IT consulting: infrastructure, DFIR, cloud, automation."]},contact:{name:"contact",description:"Show contact information",execute:async()=>["Email: hello@example.com","LinkedIn: https://www.linkedin.com"]},banner:{name:"banner",description:"Show ASCII art banner",execute:async()=>["  ____   ___    ___ _____ "," |  _ \\ / _ \\  |_ _|_   _|"," | | | | | | |  | |  | |"," | |_| | |_| |  | |  | |"," |____/ \\___/   |_|  |_| ","  Desert Oasis Information Technologies"]},ls:{name:"ls",description:"List files",execute:async()=>['README  about.txt  projects  contact.me  secrets -> try "help"']},projects:{name:"projects",description:"Show project information",execute:async()=>["- ISO27001 readiness","- Cloud migrations (Google Workspace → M365)","- Incident response & threat hunting"]},echo:{name:"echo",description:"Echo text",execute:async e=>[e.join(" ")]},clear:{name:"clear",description:"Clear terminal",execute:async()=>(j([]),[])},date:{name:"date",description:"Show current date",execute:async()=>[new Date().toDateString()]},time:{name:"time",description:"Show current time",execute:async()=>[new Date().toLocaleTimeString()]},color:{name:"color",description:"Change terminal color",execute:async e=>{var i;const t=(i=e[0])==null?void 0:i.toLowerCase(),r={green:"green",amber:"amber",white:"white"};return r[t]?(B(r[t]),[`color → ${t}`]):["Usage: color <green|amber|white>"]}},scanlines:{name:"scanlines",description:"Toggle scanlines effect",execute:async e=>{var r;const t=(r=e[0])==null?void 0:r.toLowerCase();return t==="on"?(I(!0),["scanlines → on"]):t==="off"?(I(!1),["scanlines → off"]):["Usage: scanlines <on|off>"]}},matrix:{name:"matrix",description:"Toggle matrix rain effect",execute:async e=>{var r;const t=(r=e[0])==null?void 0:r.toLowerCase();return t==="on"?(S(!0),["matrix rain → on"]):t==="off"?(S(!1),["matrix rain → off"]):(S(!u),[u?"matrix rain → off":"matrix rain → on"])}}},D=o.useCallback(async e=>{if(!e.trim())return;const[t,...r]=e.trim().split(/\s+/),i=R[t.toLowerCase()];if(!i){d(`Command not found: ${t}. Try "help".`,"output");return}try{(await i.execute(r)).forEach(b=>{d(b,"output")})}catch(p){d(`Error: ${p instanceof Error?p.message:"Unknown error"}`,"output")}},[R,d]),N=o.useCallback(e=>{if(e.key==="Enter"){const t=e.currentTarget.value;t.trim()&&(d(` ${t}`,"input",t),z(r=>[...r,t]),g(-1),D(t),e.currentTarget.value="")}else if(e.key==="ArrowUp"){if(e.preventDefault(),c.length>0){const t=Math.max(0,x-1);g(t),e.currentTarget.value=c[c.length-1-t]||""}}else if(e.key==="ArrowDown")if(e.preventDefault(),x<c.length-1){const t=x+1;g(t),e.currentTarget.value=c[c.length-1-t]||""}else g(-1),e.currentTarget.value=""},[c,x,d,D]),w=()=>{switch(C){case"amber":return"#ffd37a";case"white":return"#e6fff6";default:return s.palette.terminal.green}},M=()=>{switch(C){case"amber":return"#d6a552";case"white":return"#aee5d4";default:return s.palette.terminal.dim}};return n.jsx(a,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:{xs:2,sm:3},fontFamily:"VT323, ui-monospace, SFMono-Regular, Menlo, Consolas, Liberation Mono, monospace",letterSpacing:"0.2px",lineHeight:1.35},children:n.jsxs(a,{sx:{width:{xs:"100%",sm:"min(1100px, 96vw)"},height:{xs:"100%",sm:"min(720px, 88vh)"},background:"#001500",border:"2px solid",borderColor:s.palette.terminal.frame,borderRadius:2.5,display:"grid",gridTemplateRows:"38px 1fr 42px",position:"relative",overflow:"hidden",isolation:"isolate",boxShadow:`
            0 0 0 2px #001000 inset, 
            0 0 40px #001f00, 
            0 0 120px #002800 inset
          `},children:[n.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2.5,padding:"0 10px",borderBottom:"1px solid",borderColor:s.palette.terminal.frame,background:"linear-gradient(180deg, rgba(0,35,0,.5), rgba(0,0,0,0))"},children:[n.jsxs(a,{sx:{display:"flex",gap:1.5},children:[n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#ff4d4d",background:"#2a0000"}}),n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#ffd24d",background:"#2a2300"}}),n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#33ff66",background:"#002a09"}})]}),n.jsx(O,{sx:{fontSize:22,color:s.palette.terminal.accent,opacity:.9},children:"DESERT OASIS INFORMATION TECHNOLOGIES :: TERMINAL"})]}),n.jsxs(a,{ref:l,sx:{position:"relative",overflow:"auto",padding:2,scrollbarWidth:"thin",background:k?`repeating-linear-gradient(
                  to bottom,
                  rgba(0,0,0,0),
                  rgba(0,0,0,0) 2px,
                  rgba(0,0,0,0.16) 3px,
                  rgba(0,0,0,0) 4px
                )`:"transparent",textShadow:`0 0 6px ${w()}35`,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{background:"#083"}},children:[u&&n.jsx("canvas",{ref:y,style:{position:"absolute",inset:0,zIndex:0,opacity:.21,pointerEvents:"none"}}),n.jsxs(a,{sx:{position:"relative",zIndex:1},children:[_.map(e=>n.jsx(a,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word",color:e.type==="output"&&e.content.startsWith(" ")?M():w(),opacity:e.type==="output"&&e.content.startsWith(" ")?.8:1},children:e.content},e.id)),n.jsxs(a,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:2,alignItems:"center",marginTop:1.5},children:[n.jsx(O,{sx:{color:s.palette.terminal.accent},children:"guest@do-it:~$"}),n.jsx("input",{ref:F,type:"text",onKeyDown:N,style:{width:"100%",background:"transparent",border:"none",outline:"none",color:w(),font:"inherit",caretColor:w()},autoFocus:!0,autoCapitalize:"off",autoComplete:"off",spellCheck:!1,"aria-label":"terminal input"})]})]})]}),n.jsxs(a,{sx:{borderTop:"1px solid",borderColor:s.palette.terminal.frame,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",color:M()},children:[n.jsxs(a,{children:["▲▼ history  •  ",n.jsx("span",{style:{opacity:.8},children:"scanlines:"})," ",k?"on":"off","  •  theme: ",C]}),n.jsxs(a,{sx:{opacity:.8},children:["© ",new Date().getFullYear()," DO‑IT"]})]})]})})}export{V as default};
