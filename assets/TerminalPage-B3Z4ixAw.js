import{e as K,r as o,j as n,B as a,T as z}from"./index-CZM7lYic.js";function V(){const s=K(),l=o.useRef(null),B=o.useRef(null),y=o.useRef(null),[_,j]=o.useState([{id:"1",content:"Booting DO-IT/NET v1.0 … OK",type:"output"},{id:"2",content:"Type help to get started. Press ↑/↓ for history.",type:"output"},{id:"3",content:" ",type:"output"}]),[c,W]=o.useState([]),[x,g]=o.useState(-1),[u,C]=o.useState(!1),[k,I]=o.useState(!0),[S,F]=o.useState("green"),[T,$]=o.useState(null),[f,G]=o.useState([]),d=o.useCallback((e,t,r)=>{const i={id:Date.now().toString(),content:e,type:t,command:r};j(p=>[...p,i])},[]),M=o.useCallback(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[]);o.useEffect(()=>{M()},[_,M]),o.useEffect(()=>{if(!y.current||!u)return;const e=y.current,t=e.getContext("2d");if(!t)return;const r=()=>{if(l.current){const h=l.current.getBoundingClientRect();e.width=Math.floor(h.width),e.height=Math.floor(h.height)}};r();const w="アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワン"+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",m=16,U=Math.ceil(e.width/m);f.length===0&&G(Array.from({length:U},()=>Math.floor(Math.random()*e.height/m)));const L=()=>{t.fillStyle="rgba(0,0,0,0.08)",t.fillRect(0,0,e.width,e.height),t.fillStyle=s.palette.terminal.green,t.font=`${m}px VT323, monospace`,f.forEach((h,v)=>{const N=w[Math.floor(Math.random()*w.length)],O=v*m;t.fillText(N,O,h*m),h*m>e.height&&Math.random()>.975?f[v]=0:f[v]=h+1}),$(requestAnimationFrame(L))};L();const D=()=>{u&&r()};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D),T&&cancelAnimationFrame(T)}},[u,f,s.palette.terminal.green,T]);const R={help:{name:"help",description:"Show available commands",execute:async()=>["Available commands:","  help, about, banner, contact, ls, projects, echo <text>, clear, date, time, color <green|amber|white>, scanlines <on|off>, matrix <on|off>","",'Type "about" to learn more about my IT consulting services.']},about:{name:"about",description:"Show company information",execute:async()=>["William Graham - Independent IT Consultant","Senior, hands‑on IT consulting: network reliability, cloud migrations, identity and access, end‑user support."]},contact:{name:"contact",description:"Show contact information",execute:async()=>["Email: hello@example.com","LinkedIn: https://www.linkedin.com"]},banner:{name:"banner",description:"Show ASCII art banner",execute:async()=>["  ____   ___    ___ _____ "," |  _ \\ / _ \\  |_ _|_   _|"," | | | | | | |  | |  | |"," | |_| | |_| |  | |  | |"," |____/ \\___/   |_|  |_| ","  William Graham - IT Consultant"]},ls:{name:"ls",description:"List files",execute:async()=>['README  about.txt  projects  contact.me  services  terminal -> try "help"']},projects:{name:"projects",description:"Show project information",execute:async()=>["- Multi-site network stabilization","- Cloud migrations & platform upgrades","- POS & digital signage rollouts"]},echo:{name:"echo",description:"Echo text",execute:async e=>[e.join(" ")]},clear:{name:"clear",description:"Clear terminal",execute:async()=>(j([]),[])},date:{name:"date",description:"Show current date",execute:async()=>[new Date().toDateString()]},time:{name:"time",description:"Show current time",execute:async()=>[new Date().toLocaleTimeString()]},color:{name:"color",description:"Change terminal color",execute:async e=>{var i;const t=(i=e[0])==null?void 0:i.toLowerCase(),r={green:"green",amber:"amber",white:"white"};return r[t]?(F(r[t]),[`color → ${t}`]):["Usage: color <green|amber|white>"]}},scanlines:{name:"scanlines",description:"Toggle scanlines effect",execute:async e=>{var r;const t=(r=e[0])==null?void 0:r.toLowerCase();return t==="on"?(I(!0),["scanlines → on"]):t==="off"?(I(!1),["scanlines → off"]):["Usage: scanlines <on|off>"]}},matrix:{name:"matrix",description:"Toggle matrix rain effect",execute:async e=>{var r;const t=(r=e[0])==null?void 0:r.toLowerCase();return t==="on"?(C(!0),["matrix rain → on"]):t==="off"?(C(!1),["matrix rain → off"]):(C(!u),[u?"matrix rain → off":"matrix rain → on"])}}},A=o.useCallback(async e=>{if(!e.trim())return;const[t,...r]=e.trim().split(/\s+/),i=R[t.toLowerCase()];if(!i){d(`Command not found: ${t}. Try "help".`,"output");return}try{(await i.execute(r)).forEach(w=>{d(w,"output")})}catch(p){d(`Error: ${p instanceof Error?p.message:"Unknown error"}`,"output")}},[R,d]),H=o.useCallback(e=>{if(e.key==="Enter"){const t=e.currentTarget.value;t.trim()&&(d(` ${t}`,"input",t),W(r=>[...r,t]),g(-1),A(t),e.currentTarget.value="")}else if(e.key==="ArrowUp"){if(e.preventDefault(),c.length>0){const t=Math.max(0,x-1);g(t),e.currentTarget.value=c[c.length-1-t]||""}}else if(e.key==="ArrowDown")if(e.preventDefault(),x<c.length-1){const t=x+1;g(t),e.currentTarget.value=c[c.length-1-t]||""}else g(-1),e.currentTarget.value=""},[c,x,d,A]),b=()=>{switch(S){case"amber":return"#ffd37a";case"white":return"#e6fff6";default:return s.palette.terminal.green}},E=()=>{switch(S){case"amber":return"#d6a552";case"white":return"#aee5d4";default:return s.palette.terminal.dim}};return n.jsx(a,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:{xs:2,sm:3},fontFamily:"VT323, ui-monospace, SFMono-Regular, Menlo, Consolas, Liberation Mono, monospace",letterSpacing:"0.2px",lineHeight:1.35},children:n.jsxs(a,{sx:{width:{xs:"100%",sm:"min(1100px, 96vw)"},height:{xs:"100%",sm:"min(720px, 88vh)"},background:"#001500",border:"2px solid",borderColor:s.palette.terminal.frame,borderRadius:2.5,display:"grid",gridTemplateRows:"38px 1fr 42px",position:"relative",overflow:"hidden",isolation:"isolate",boxShadow:`
            0 0 0 2px #001000 inset, 
            0 0 40px #001f00, 
            0 0 120px #002800 inset
          `},children:[n.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2.5,padding:"0 10px",borderBottom:"1px solid",borderColor:s.palette.terminal.frame,background:"linear-gradient(180deg, rgba(0,35,0,.5), rgba(0,0,0,0))"},children:[n.jsxs(a,{sx:{display:"flex",gap:1.5},children:[n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#ff4d4d",background:"#2a0000"}}),n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#ffd24d",background:"#2a2300"}}),n.jsx(a,{sx:{width:12,height:12,borderRadius:"50%",border:"1px solid #053",boxShadow:"0 0 10px currentColor",color:"#33ff66",background:"#002a09"}})]}),n.jsx(z,{sx:{fontSize:22,color:s.palette.terminal.accent,opacity:.9},children:"WILLIAM GRAHAM :: IT CONSULTING TERMINAL"})]}),n.jsxs(a,{ref:l,sx:{position:"relative",overflow:"auto",padding:2,scrollbarWidth:"thin",background:k?`repeating-linear-gradient(
                  to bottom,
                  rgba(0,0,0,0),
                  rgba(0,0,0,0) 2px,
                  rgba(0,0,0,0.16) 3px,
                  rgba(0,0,0,0) 4px
                )`:"transparent",textShadow:`0 0 6px ${b()}35`,"&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{background:"#083"}},children:[u&&n.jsx("canvas",{ref:y,style:{position:"absolute",inset:0,zIndex:0,opacity:.21,pointerEvents:"none"}}),n.jsxs(a,{sx:{position:"relative",zIndex:1},children:[_.map(e=>n.jsx(a,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word",color:e.type==="output"&&e.content.startsWith(" ")?E():b(),opacity:e.type==="output"&&e.content.startsWith(" ")?.8:1},children:e.content},e.id)),n.jsxs(a,{sx:{display:"grid",gridTemplateColumns:"auto 1fr",gap:2,alignItems:"center",marginTop:1.5},children:[n.jsx(z,{sx:{color:s.palette.terminal.accent},children:"guest@william-graham:~$"}),n.jsx("input",{ref:B,type:"text",onKeyDown:H,style:{width:"100%",background:"transparent",border:"none",outline:"none",color:b(),font:"inherit",caretColor:b()},autoFocus:!0,autoCapitalize:"off",autoComplete:"off",spellCheck:!1,"aria-label":"terminal input"})]})]})]}),n.jsxs(a,{sx:{borderTop:"1px solid",borderColor:s.palette.terminal.frame,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px",color:E()},children:[n.jsxs(a,{children:["▲▼ history  •  ",n.jsx("span",{style:{opacity:.8},children:"scanlines:"})," ",k?"on":"off","  •  theme: ",S]}),n.jsxs(a,{sx:{opacity:.8},children:["© ",new Date().getFullYear()," WG"]})]})]})})}export{V as default};
